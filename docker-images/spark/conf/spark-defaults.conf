# Core Spark Configuration
spark.master                                        spark://spark-master:7077
spark.app.name                                      YouTube Data Pipeline
spark.submit.deployMode                             client
spark.driver.memory                                 2g
spark.executor.memory                               2g
spark.executor.cores                                2
spark.executor.instances                            2

# Serialization and Performance
spark.serializer                                    org.apache.spark.serializer.KryoSerializer
spark.kryoserializer.buffer.max                     1024m
spark.sql.shuffle.partitions                        200
spark.default.parallelism                           200
spark.memory.fraction                               0.8
spark.memory.storageFraction                        0.3

# S3/MinIO Configuration
spark.hadoop.fs.s3a.endpoint                        http://minio:9000
spark.hadoop.fs.s3a.access.key                      minio
spark.hadoop.fs.s3a.secret.key                      minio123
spark.hadoop.fs.s3a.path.style.access               true
spark.hadoop.fs.s3a.connection.ssl.enabled          false
spark.hadoop.fs.s3a.impl                            org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.aws.credentials.provider        org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider
# Delta Lake Configuration
spark.sql.extensions                                io.delta.sql.DeltaSparkSessionExtension
spark.sql.catalog.spark_catalog                     org.apache.spark.sql.delta.catalog.DeltaCatalog

# Logging Configuration
spark.eventLog.enabled                              true
spark.eventLog.dir                                  /opt/bitnami/spark/logs
spark.history.fs.logDirectory                       /opt/bitnami/spark/logs

# Default Warehouse Location
spark.sql.warehouse.dir                             s3a://lakehouse/golden

# Python Configuration
spark.pyspark.python                                python3
spark.pyspark.driver.python                         python3